"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.RouterLink = void 0;

var _component = require("./component");

var _router = require("./router");

class RouterLink extends _component.Component {
  constructor(attributes) {
    super(attributes);
    this.router = _router.Router.getInstance();
    this.handleClick = this.handleClick.bind(this);
  }

  connectedCallback() {
    super.connectedCallback();
    this.shadowRoot.querySelector('a').addEventListener('click', this.handleClick, true);
  }

  disconnectedCallback() {
    super.disconnectedCallback();
    this.shadowRoot.querySelector('a').removeEventListener('click', this.handleClick);
  }

  handleClick(event) {
    this.router.navigate(this.props.path, document.title);
    return event.preventDefault();
  }

  render() {
    return `<a href="${this.props.path}"><slot></slot></a>`;
  }

}

exports.RouterLink = RouterLink;

_component.Component.define(RouterLink);